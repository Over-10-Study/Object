데이터 중심 설계의 해결방법은 데이터가 아닌 책임에 초점을 맞추는 것이다.

하지만 올바른 책임을 할당하기 위해서는 다양한 관점에서 설계를 평가할 수 있어야한다.

### 원칙

- 데이터보다 행동을 먼저 결정하라
- 협력이라는 문맥 안에서 책임을 결정하라

`메시지 송신자는 메시지 수신자에 대한 어떠한 가정도 할 수 없다. 메시지 전송자의 관점에서 메시지 수신자가 깔끔하게 캡슐화되는 것이다.`

- 올바른 객체지향 설계는 클라이언트가 전송할 메시지를 결정한 후에 데이터에 관해 고민하기 시작한다.

### GRASP 패턴

- 일반적인 책임 할당을 위한 소프트웨어 패턴

1. 도메인 개념에서 출발하기
    - 책임을 할당받을 객체들의 종류와 관계 정리
2. 정보 전문가에게 책임을 할당하라
    - 책임을 수행할 정보를 알고 있는 객체에게 책임을 할당하는 것
    - 정보 ≠ 데이터 → 데이터를 가지고 있는 다른 객체를 알고 있는 것도 정보
3. 높은 응집도와 낮은 결합도
    - 단순하면서도 재사용 가능하고 유연한 설계를 얻을 수 있다.
4. 창조자에게 객체 생성 책임을 할당하라
    - 생성되는 객체와 연결되거나 관련될 필요가 있는 객체는 해당 객체를 생성할 책임을 맡는다.
    - 이미 결합돼 있는 객체에게 생성 책임을 할당하는 것은 설계의 전체적인 결합도에 영향을 미치지 않는다.

### 클래스 응집도 판단하기

- *클래스가 하나 이상의 이유로 변경돼야 한다면 응집도가 낮은 것.*
- *클래스의 인스턴스를 초기화하는 시점에 경우에 따라 서로 다른 속성들을 초기화하고 있다면 응집도가 낮은 것.*
- *메서드 그룹이 속성 그룹을 사용하는지 여부로 나뉜다면 응집도가 낮은 것.*

### 다형성패턴

- 타입을 분리하고 변화하는 행동을 각 타입의 책임으로 할당하는 것
- 클래스를 변경에 따라 분리하고 인터페이스를 이용해 변경을 캡슐화하는 것은 좋은 설계

### 책임 주도 설계의 대안

- 적절한 책임과 객체를 선택하는게 어렵다면, 일단 실행되는 코드를 만들면서 책임들을 올바른 위치로 옮긴다.
- 객체로 책임을 분배할 때 가장 먼저 할 일은 메서드를 응집도 있는 수준으로 분해하는 것.

### etc

- 테스트를 위해 클래스를 분리하는 것은 응집도를 떨어뜨릴까
- 도메인 설계
